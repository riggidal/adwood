<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Запретить масштабирование</title>
    <title>Фоновое изображение с башней</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh; /* Высота на всю видимую область */
            background-image: url('fon.jpg'); /* Путь к вашему фоновому изображению */
            background-size: cover; /* Масштабирование изображения, чтобы оно заполнило всю область */
            background-position: center; /* Центрирование изображения */
            background-repeat: no-repeat; /* Запрет повторения изображения */
            display: flex; /* Используем flexbox для центрирования */
            justify-content: center; /* Горизонтальное центрирование */
            align-items: flex-start; /* Вертикальное выравнивание по верхнему краю */
            padding-top: 400px; /* Отступ сверху для опускания изображения вниз */
            position: relative; /* Устанавливаем относительное позиционирование для body */
        }

        .tower {
            max-width: 80%; /* Ограничение ширины изображения */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            z-index: 1; /* Устанавливаем уровень слоя ниже фона */
        }
	
        .bugz {
            max-width: 15%; /* Уменьшили ширину изображения Багза в 2 раза */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения над башней */
            top: 270px; /* Положение сверху, чтобы находиться над башней */
            z-index: 2; /* Устанавливаем уровень слоя выше башни */
        }

        .carrot {
            max-width: 5%; /* Ограничение ширины изображения моркови */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения моркови */
            top: 460px; /* Положение сверху, чтобы находиться на уровне башни */
            left: calc(50% + 180px); /* Сдвиг вправо от центра для размещения моркови справа от башни */
            z-index: 2; /* Устанавливаем уровень слоя выше башни и Багза */
            transform: rotate(45deg); /* Поворот моркови на 35 градусов вправо */
        }
  .pl {
            max-width: 13%; /* Ограничение ширины изображения моркови */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения моркови */
            top: 510px; /* Положение сверху, чтобы находиться на уровне башни */
            left: calc(50% + 126px); /* Сдвиг вправо от центра для размещения моркови справа от башни */
            z-index: 2; /* Устанавливаем уровень слоя выше башни и Багза */
  }

.carrot-left {
            max-width: 5%; /* Ограничение ширины изображения моркови */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения моркови слева */
            top: 696px; /* Положение сверху, чтобы находиться на уровне башни */
            left: calc(50% - 225px); /* Сдвиг влево от центра для размещения моркови слева от башни */
            z-index: 3; /* Устанавливаем уровень слоя выше башни и Багза */
            transform: rotate(45deg); /* Поворот моркови на 35 градусов вправо */
        }
  .pl-left {
            max-width: 13%; /* Ограничение ширины изображения моркови */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения моркови */
            top: 745px; /* Положение сверху, чтобы находиться на уровне башни */
            left: calc(50% - 275px); /* Сдвиг вправо от центра для размещения моркови справа от башни */
            z-index: 2; /* Устанавливаем уровень слоя выше башни и Багза */
  }
        .lever {
            max-width: 5%; /* Ограничение ширины изображения рычага */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения рычага */
            top: 405px; /* Положение сверху для размещения у верхнего края */
            left: calc(50% + 8px); /* Центрируем рычаг немного вправо от центра */
            z-index: 3; /* Устанавливаем уровень слоя выше других элементов */
        }

        .gear {
            max-width: 10%; /* Ограничение ширины изображения шестерни */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения шестерни */
            top: 10px; /* Положение сверху для размещения у верхнего края */
            right: 10px; /* Положение справа для размещения у правого края */
            z-index: 3; /* Устанавливаем уровень слоя выше других элементов */
        }
	.ruler {
            max-width: 30%; /* Ограничение ширины изображения линейки */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения линейки */
            top: 560px; /* Положение сверху для размещения линейки */
            left: 10px; /* Положение слева для размещения линейки */
            z-index: 4; /* Устанавливаем уровень слоя выше других элементов */
            transform: rotate(270deg);
            left: calc(50% + 150px);
        }
	.one {
            max-width: 7%; /* Ограничение ширины изображения линейки */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения линейки */
            top: 600px; /* Положение сверху для размещения линейки */
            left: 10px; /* Положение слева для размещения линейки */
            z-index: 4; /* Устанавливаем уровень слоя выше других элементов */
            left: calc(50% + 400px);
        }
	.two {
            max-width: 7%; /* Ограничение ширины изображения линейки */
            height: auto; /* Автоматическая высота для сохранения пропорций */
            position: absolute; /* Абсолютное позиционирование для размещения линейки */
            top: 700px; /* Положение сверху для размещения линейки */
            left: 10px; /* Положение слева для размещения линейки */
            z-index: 4; /* Устанавливаем уровень слоя выше других элементов */
            left: calc(50% + 400px);
        }
    </style>
</head>
<body>

    <img src="башня.jpg" alt="Башня" class="tower"> <!-- Путь к изображению башни -->
    <img src="багз.jpg" alt="Багз" class="bugz"> <!-- Путь к изображению Багза -->
    <img src="морковь.png" alt="Морковь" class="carrot"> <!-- Путь к изображению моркови справа -->
    <img src="морковь.png" alt="Морковь" class="carrot-left"> <!-- Путь к изображению моркови слева -->
    <img src="рычаг.png" alt="Рычаг" class="lever"> <!-- Путь к изображению рычага -->
    <img src="шестерня.png" alt="Шестерня" class="gear"> <!-- Путь к изображению шестерни -->
    <img src="площадка.png" alt="Площадка" class="pl">
    <img src="площадка.png" alt="Площадка" class="pl-left">
    <img src="линейка.jpg" alt="Линейка" class="ruler">
    <img src="сброс.png" alt="сброс" class="one">
    <img src="старт.png" alt="старт" class="two">
<div class="controls">
        <button id="startButton">Старт</button>
        <button id="resetButton">Сброс</button>
        <button id="changeMassButton">Изменить массу моркови</button>
    </div>
    <div id="time-display">Время: <span id="time">0</span> секунд</div>

    <script>
        const carrotLeft = document.querySelector('.carrot-left');
        const plLeft = document.querySelector('.pl-left');
        const carrot = document.querySelector('.carrot');
        const pl = document.querySelector('.pl');
        const startButton = document.getElementById('startButton');
        const resetButton = document.getElementById('resetButton');
        const changeMassButton = document.getElementById('changeMassButton');
        const timeDisplay = document.getElementById('time');

        let animationInterval;
        let startTime;
        let isMoving = false;

        let massLeftCarrot = 1; // Масса левой моркови (в произвольных единицах)
        let massRightCarrot = 1; // Масса правой моркови (в произвольных единицах)

        function resetPositions() {
            carrotLeft.style.top = '696px';
            plLeft.style.top = '745px';
            carrot.style.top = '696px';
            pl.style.top = '745px';
            timeDisplay.textContent = '0';
            clearInterval(animationInterval);
            isMoving = false;
        }

        function startAnimation() {
            if (isMoving) return;

            isMoving = true;
            startTime = Date.now();
            // Начальная высота левой площадки
            const initialHeightPlLeft = parseFloat(plLeft.style.top);
            const targetHeightPlLeft = parseFloat(pl.style.top);

            animationInterval = setInterval(() => {
                let currentTime = (Date.now() - startTime) / 1000;
                let randomAcceleration = (Math.random() * 0.0004 - 0.0002);
                let g = 9.80665 + randomAcceleration;

                // Расчёт ускорения по формуле Аттвуда
                let acceleration = (massLeftCarrot - massRightCarrot) * g / (massLeftCarrot + massRightCarrot);
                
                // Двигаем объекты
                if (parseFloat(carrotLeft.style.top) > targetHeightPlLeft) {
                    carrotLeft.style.top = ${parseFloat(carrotLeft.style.top) - acceleration}px;
                    plLeft.style.top = ${parseFloat(plLeft.style.top) - acceleration}px;
                } else {
                    clearInterval(animationInterval);
                    isMoving = false;
                }

                // Обновляем время
                timeDisplay.textContent = currentTime.toFixed(2);
            }, 100);
        }

        function changeMass() {
            massRightCarrot += Math.random() > 0.5 ? 0.1 : -0.1; // Изменяем массу правой моркови случайным образом
            massRightCarrot = Math.max(massRightCarrot, 0.1); // Ограничиваем массу минимальным значением
            alert(Новая масса правой моркови: ${massRightCarrot.toFixed(2)});
        }

        startButton.addEventListener('click', startAnimation);
        resetButton.addEventListener('click', resetPositions);
        changeMassButton.addEventListener('click', changeMass);
    </script>
</body>
</html>
